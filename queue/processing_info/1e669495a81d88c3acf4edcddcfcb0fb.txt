Generating pipelines...
5 pipelines have been generated.

Pipeline1: Doing differential expressed genes analysis with t test.
[ 2:43PM] 1.convert_signal_to_tdf
[ 2:43PM] 2.log_signal
[ 2:43PM] 3.fill_missing_with_zeros
[ 2:43PM] 4.calc_diffexp_with_ttest
[ 2:44PM] Completed successfully and generated a file:
/home/xchen/chencode/examples/sample_analysis/calc_diffexp_with_ttest_BETSYHASH1_614f78cd87a9a5427b1fdd3927a60f36/t_testpath.a83aa64185321d8a.616c6c5f616d6c5f747261696e2e726573.txt

Pipeline2: Doing differential expressed genes analysis with sam.
[ 2:44PM] 1.convert_signal_to_tdf
[ 2:44PM] 2.log_signal
[ 2:44PM] 3.fill_missing_with_zeros
[ 2:44PM] 4.calc_diffexp_with_sam
[ 2:44PM] Completed successfully and generated a file:
/home/xchen/chencode/examples/sample_analysis/calc_diffexp_with_sam_BETSYHASH1_15c06eb014612e8e77a5897dce934d8b/sam_path.a83aa64185321d8a.616c6c5f616d6c5f747261696e2e726573

Pipeline3: Plotting the heatmap of gene ordered by t test p value.
[ 2:44PM] 1.convert_signal_to_tdf
[ 2:44PM] 2.log_signal
[ 2:44PM] 3.fill_missing_with_zeros
[ 2:44PM] 4.rank_genes_by_sample_ttest
[ 2:44PM] 5.reorder_genes
[ 2:44PM] 6.plot_signal_heatmap
[ 2:44PM] Completed successfully and generated a file:
/home/xchen/chencode/examples/sample_analysis/plot_signal_heatmap_BETSYHASH1_4c81ce95d30a3e9bea9e433709af9d3b/heatmappath.a83aa64185321d8a.616c6c5f616d6c5f747261696e2e726573.png

Pipeline4: Doing gather analysis on the important genes.
[ 2:44PM] 1.convert_signal_to_tdf
[ 2:44PM] 2.log_signal
[ 2:44PM] 3.fill_missing_with_zeros
[ 2:44PM] 4.rank_genes_by_sample_ttest
[ 2:45PM] 5.annotate_genes_with_gather
[ 2:50PM] Completed successfully and generated a file:
/home/xchen/chencode/examples/sample_analysis/annotate_genes_with_gather_BETSYHASH1_22809af6d91c68e67ad1cc50c261250b/gather_ttestpath.a83aa64185321d8a.616c6c5f616d6c5f747261696e2e726573.txt

Pipeline5: Doing GSEA on the signal file.
[ 2:50PM] 1.convert_signal_to_tdf
[ 2:50PM] 2.log_signal
[ 2:50PM] 3.fill_missing_with_zeros
[ 2:50PM] 4.annotate_genes_with_gsea
Traceback (most recent call last):
  File "/home/xchen/chencode/Betsy/scripts/run_protocol.py", line 203, in <module>
    main()
  File "/home/xchen/chencode/Betsy/scripts/run_protocol.py", line 192, in main
    parameters,clean_up=args.clean_up)
  File "/home/xchen/chencode/Betsy/scripts/run_protocol.py", line 69, in run_protocol
    out_files = rule_engine.run_pipeline(pipeline, objects,clean_up=clean_up)
  File "/home/xchen/chencode/Betsy/Betsy/rule_engine.py", line 224, in run_pipeline
    analysis,objects,pipeline_sequence,clean_up=clean_up)
  File "/home/xchen/chencode/Betsy/Betsy/rule_engine.py", line 169, in run_module
    analysis.parameters, objects, pipeline_sequence)
  File "/home/xchen/chencode/Betsy/Betsy/modules/annotate_genes_with_gsea.py", line 34, in run
    raise ValueError(error_message)
ValueError: Traceback (most recent call last):
  File "/home/xchen/chencode/scripts/gsea.py", line 363, in <module>
    main()
  File "/home/xchen/chencode/scripts/gsea.py", line 319, in main
    if db_file:
UnboundLocalError: local variable 'db_file' referenced before assignment

